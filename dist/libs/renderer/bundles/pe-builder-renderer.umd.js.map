{"version":3,"file":"pe-builder-renderer.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","ng://@pe/builder-renderer/selectors/children-slot.directive.ts","ng://@pe/builder-renderer/renderer.tokens.ts","ng://@pe/builder-renderer/root/renderer.component.ts","ng://@pe/builder-renderer/root/renderer.component.html","ng://@pe/builder-renderer/elements/_abstract/abstract.element.ts","ng://@pe/builder-renderer/elements/general/document/document.element.ts","ng://@pe/builder-renderer/elements/general/document/document.element.html","ng://@pe/builder-renderer/elements/general/section/section.element.html","ng://@pe/builder-renderer/elements/general/section/section.element.ts","ng://@pe/builder-renderer/elements/general/block/block.element.html","ng://@pe/builder-renderer/elements/general/block/block.element.ts","ng://@pe/builder-renderer/elements/general/text/text.element.ts","ng://@pe/builder-renderer/elements/general/text/text.element.html","ng://@pe/builder-renderer/elements/general/grid/grid.element.html","ng://@pe/builder-renderer/elements/general/grid/grid.element.ts","ng://@pe/builder-renderer/elements/company/logo/logo.element.html","ng://@pe/builder-renderer/elements/company/logo/logo.element.ts","ng://@pe/builder-renderer/elements/shop/cart/cart.element.ts","ng://@pe/builder-renderer/elements/shop/cart/cart.element.html","ng://@pe/builder-renderer/elements/company/navbar/navbar.component.html","ng://@pe/builder-renderer/elements/company/navbar/navbar.component.ts","ng://@pe/builder-renderer/elements/shop/category/category-product/category-product.element.html","ng://@pe/builder-renderer/elements/shop/category/category-product/category-product.element.ts","ng://@pe/builder-renderer/elements/shop/category/category-header/category-header.element.html","ng://@pe/builder-renderer/elements/shop/category/category-header/category-header.element.ts","ng://@pe/builder-renderer/elements/icons/filters.icon.ts","ng://@pe/builder-renderer/elements/shop/category/category-navbar/category-navbar.element.html","ng://@pe/builder-renderer/elements/shop/category/category-navbar/category-navbar.element.ts","ng://@pe/builder-renderer/elements/icons/plus.icon.ts","ng://@pe/builder-renderer/elements/shop/category/category-filters/category-filters.element.html","ng://@pe/builder-renderer/elements/shop/category/category-filters/category-filters.element.ts","ng://@pe/builder-renderer/elements/shop/category/category.element.html","ng://@pe/builder-renderer/elements/shop/category/category.element.ts","ng://@pe/builder-renderer/elements/shop/products/product/product.element.html","ng://@pe/builder-renderer/elements/shop/products/product/product.element.ts","ng://@pe/builder-renderer/elements/shop/products/products.element.html","ng://@pe/builder-renderer/elements/shop/products/products.element.ts","ng://@pe/builder-renderer/elements/icons/product.icon.ts","ng://@pe/builder-renderer/elements/general/button/button.element.ts","ng://@pe/builder-renderer/elements/general/button/button.element.html","ng://@pe/builder-renderer/elements/general/image/image.element.ts","ng://@pe/builder-renderer/elements/general/image/image.element.html","ng://@pe/builder-renderer/elements/general/video/video.element.html","ng://@pe/builder-renderer/elements/general/video/video.element.ts","ng://@pe/builder-renderer/elements/general/line/line.element.ts","ng://@pe/builder-renderer/renderer.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Directive, ElementRef, Input, ViewContainerRef } from '@angular/core';\n\n@Directive({\n  selector: '[pebRendererChildrenSlot]'\n})\nexport class PebRendererChildrenSlotDirective {\n  @Input('pebRendererChildrenSlot')\n  name = '';\n\n  constructor(\n    public viewRef: ViewContainerRef,\n  ) {}\n}\n","import { PebElementType, PebElement, PebMakerType } from '@pe/builder-core';\nimport { EventEmitter, InjectionToken, Type, ViewContainerRef } from '@angular/core';\n\n//\n//  Collection of elements that renderer knows how to render\n//\ntype ElementComponentsCollectionType = { [name in PebElementType]: Type<any> };\n\nexport const ElementComponentsCollection = new InjectionToken<ElementComponentsCollectionType>(\n  'ElementsCollection'\n);\n\n//\n//  Collection of elements that maker knows how to render\n//\ntype MakerComponentsCollectionType = { [name in PebMakerType]: Type<any> };\n\nexport const MakerComponentsCollection = new InjectionToken<MakerComponentsCollectionType>(\n  'MakersCollection'\n);\n\n//\n//  Element render function provided by renderer\n//\nexport type RenderFunctionType = (\n  elementDef: PebElement,\n  slotRef: ViewContainerRef,\n  parentCmp: null|unknown,\n) => void;\n\nexport type RenderChildsFunctionType = (\n  abstractElement: any\n) => void;\n\nexport const RenderFunction = new InjectionToken<RenderFunctionType>('RenderFunction');\n\nexport const RenderChildsFunction = new InjectionToken<RenderChildsFunctionType>('RenderChildsFunction');\n\nexport const RendererInteractionEmitter = new InjectionToken<EventEmitter<any>>('RendererInteractionEmitter');\n\n//\n//  Element parent\n//\nexport const ParentElementComponent = new InjectionToken<any>('ParentElementComponent');\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ComponentFactoryResolver,\n  EventEmitter,\n  Inject,\n  Injector,\n  Input,\n  OnChanges,\n  Output,\n  ViewChild,\n  ViewContainerRef,\n  ComponentRef,\n  ElementRef,\n  ViewEncapsulation,\n  OnInit, HostBinding, SimpleChanges,\n} from '@angular/core';\n\nimport {\n  PebElement as PebElement_OLD,\n  PebElementId, PebScreen, pebTraverseElementDeep, pebCreateLogger, PebElement, pebFindElementChildrenWithParent\n} from '@pe/builder-core';\nimport { PebRendererChildrenSlotDirective } from '../selectors/children-slot.directive';\nimport { PebAbstractElement } from '../elements/_abstract/abstract.element';\nimport { ElementComponentsCollection, RendererInteractionEmitter, RenderFunction, RenderFunctionType, RenderChildsFunction } from '../renderer.tokens';\nimport { PebRendererOptions } from '../renderer.types';\nimport { PebContext, PebStylesheet, TreeVariables } from '../core.types';\nimport { BehaviorSubject } from 'rxjs';\nimport { forEach, keys, keyBy, sortBy, union } from 'lodash-es';\nimport { takeUntil, tap, debounceTime } from 'rxjs/operators';\nimport { AbstractComponent } from '@pe/builder-core';\n\nconst log = pebCreateLogger('renderer:root');\n\ninterface ITreeVariablesChanges {\n  previous: TreeVariables;\n  current: TreeVariables;\n}\n\n@Component({\n  selector: 'peb-renderer',\n  templateUrl: './renderer.component.html',\n  styleUrls: ['./renderer.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.ShadowDom,\n})\nexport class PebRendererComponent extends AbstractComponent implements OnChanges, AfterViewInit, OnInit {\n\n  @Input() element: PebElement;\n  @Input() stylesheet: PebStylesheet;\n  @Input() context: PebContext;\n  @Input() options: PebRendererOptions = {\n    screen: PebScreen.Desktop,\n    scale: 1,\n    locale: 'en',\n  };\n\n  @Input('options.scale')\n  set setOptionsScale(scale: number) {\n    this.options = { ...this.options, scale };\n  }\n\n  @Input('options.screen')\n  set setOptionsScreen(screen: PebScreen) {\n    this.options = { ...this.options, screen };\n  }\n\n  @Input('options.locale')\n  set setOptionsLocal(locale: string) {\n    this.options = { ...this.options, locale };\n  }\n\n  @Input() modifiedElement: BehaviorSubject<{id: string, cmpRef: ComponentRef<PebAbstractElement>}> = new BehaviorSubject(null);\n  @Output() rendered = new EventEmitter<any>();\n  @Output() interacted = new EventEmitter<any>();\n\n  @ViewChild(PebRendererChildrenSlotDirective, { read: ViewContainerRef })\n  mainSlot: ViewContainerRef;\n\n  idsToRender: PebElementId[] = [];\n  registrySlot: Map<PebElementId, ViewContainerRef> = new Map();\n  registry: Map<PebElementId, PebAbstractElement> = new Map();\n  registryAbstract: Map<PebElementId, ComponentRef<PebAbstractElement>> = new Map();\n\n  private treeVariablesChanges$: BehaviorSubject<ITreeVariablesChanges> = new BehaviorSubject({ previous: {}, current: {} });\n  private makerId$ = new BehaviorSubject<string>(null);\n\n  screenThresholds = {\n    desktop: 1280,\n    tablet: 768,\n    mobile: 360,\n  };\n\n  constructor(\n    private elementRef: ElementRef,\n    private injector: Injector,\n    private cfr: ComponentFactoryResolver,\n    @Inject(ElementComponentsCollection) private elementsCollection: any[],\n  ) {\n    super();\n  }\n\n  ngOnInit() {\n    this.treeVariablesChanges$\n      .pipe(\n        debounceTime(100),\n        tap((variables) => this.getDifferenceVariables(variables)),\n        takeUntil(this.destroyed$)\n      ).subscribe();\n\n    this.modifiedElement.pipe(\n      tap((modified) => {\n\n        const selectedMaker = this.makerId$.getValue();\n        const { current: currentElement } = this.treeVariablesChanges$.getValue();\n        let cmpFactory;\n\n        if (selectedMaker) { // todo: fix\n          const makerElement = currentElement[selectedMaker];\n          const makerType = makerElement.type;\n          const elementComponent = this.elementsCollection[makerType];\n          cmpFactory = this.cfr.resolveComponentFactory<PebAbstractElement>(elementComponent);\n          const cmpInjector = Injector.create({\n            providers: [\n              {\n                provide: 'STYLESHEET',\n                useValue: this.stylesheet,\n              },\n              {\n                provide: 'PARENT_ELEMENT',\n                useValue: null,\n              },\n              {\n                provide: RenderFunction,\n                useValue: this.renderElement,\n              },\n              {\n                provide: RenderChildsFunction,\n                useValue: this.renderElementChilds,\n              },\n              {\n                provide: RendererInteractionEmitter,\n                useValue: this.interacted,\n              }\n            ],\n            parent: this.injector,\n          });\n          const cmpRef = cmpFactory.create(cmpInjector);\n          cmpRef.instance.element = makerElement;\n          cmpRef.instance.styles = this.stylesheet[makerElement.id] || {};\n          cmpRef.instance.context = (cmpFactory.componentType as any).contextFetcher\n            ? (cmpFactory.componentType as any).contextFetcher(this.context)\n            : this.context?.hasOwnProperty(makerElement.id) ? this.context[makerElement.id] : null;\n\n          cmpRef.instance.options = this.options;\n          cmpRef.instance.applyStyles();\n          this.createSlot(cmpRef, makerElement);\n        }\n\n        if (!modified || selectedMaker === modified.id) {\n          return;\n        }\n\n        const element = currentElement[modified.id];\n\n        modified.cmpRef.instance.element = element;\n        modified.cmpRef.instance.styles = this.stylesheet[element.id] || {};\n        modified.cmpRef.instance.context = this.context?.hasOwnProperty(element.id) ? this.context[element.id] : null;\n        modified.cmpRef.instance.options = this.options;\n\n        this.createSlot(modified.cmpRef, element, true);\n\n      }),\n      takeUntil(this.destroyed$)\n    ).subscribe();\n\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    this.checkTreeVariables();\n  }\n\n  ngAfterViewInit() {\n    this.checkTreeVariables();\n  }\n\n\n  get nativeElement() {\n    return this.elementRef.nativeElement;\n  }\n\n  private createSlot(cmpRef: ComponentRef<PebAbstractElement>, element: PebElement, isMaker = false) {\n\n    cmpRef.changeDetectorRef.detectChanges();\n\n    const slotRef = this.registrySlot.get(element.id);\n    slotRef.clear();\n\n    this.registrySlot.set(element.id, slotRef);\n    slotRef.insert(cmpRef.hostView);\n\n    if (isMaker) {\n      this.makerId$.next(element.id);\n      return;\n    }\n\n    this.makerId$.next(null);\n  }\n\n  private getDifferenceVariables(variables: ITreeVariablesChanges) {\n    const { current: currentVariables, previous: previousVariables } = variables;\n    const keysMergeVariables = union([...(keys(currentVariables)), ...(keys(previousVariables))]);\n    const differenceVariables = {};\n    forEach(keysMergeVariables, (key) => {\n\n      if (\n        previousVariables[key] &&\n        currentVariables[key] &&\n        currentVariables[key].hashParent !== previousVariables[key].hashParent\n      ) {\n        return differenceVariables[key] = { ...currentVariables[key], executeType: 'move' };\n      }\n\n      if (\n        previousVariables[key] &&\n        !currentVariables[key]\n      ) {\n        return differenceVariables[key] = { ...previousVariables[key], executeType: 'delete' };\n      }\n\n      if (\n        !previousVariables[key] &&\n        currentVariables[key] &&\n        (\n          !differenceVariables[currentVariables[key].parentId]\n        )\n      ) {\n        return differenceVariables[key] = { ...currentVariables[key], executeType: 'create' };\n      }\n\n      if (\n        previousVariables[key] &&\n        currentVariables[key] &&\n        currentVariables[key].hashStyle !== previousVariables[key].hashStyle\n      ) {\n        return differenceVariables[key] = { ...currentVariables[key], executeType: 'changeStyle' };\n      }\n\n    });\n\n    this.render(differenceVariables);\n  }\n\n\n  private generateHash(hashedObject) {\n    let hash = 0;\n    if (hashedObject.length === 0) {\n      return hash;\n    }\n    for (let i = 0; i < hashedObject.length; i++) {\n      const char = hashedObject.charCodeAt(i);\n      // tslint:disable-next-line:no-bitwise\n      hash = ((hash << 5) - hash) + char;\n      // tslint:disable-next-line:no-bitwise\n      hash = hash & hash;\n    }\n    return hash;\n  }\n\n\n  private checkTreeVariables() {\n    const placeElement = pebFindElementChildrenWithParent(this.element, _ => {\n      return true;\n    }).map(v => {\n      const hashNode = v;\n      const hashParent = v.parentId;\n      const hashStyle = this.stylesheet[v.id] ? this.stylesheet[v.id] : {};\n      return {\n        hashNode: this.generateHash(JSON.stringify(hashNode)),\n        hashParent: this.generateHash(JSON.stringify(hashParent)),\n        hashStyle: this.generateHash(JSON.stringify(hashStyle)),\n        ...v\n      };\n    });\n\n    const { current: currentVariables } = this.treeVariablesChanges$.getValue();\n    const placeElementToObject: any | TreeVariables = keyBy(placeElement, 'id');\n    this.treeVariablesChanges$.next({\n      previous: currentVariables,\n      current: placeElementToObject,\n    });\n  }\n\n\n  private render(difference) {\n    log('Rendering started');\n    if (!this.mainSlot) {\n      log('FIXME: Attempt to render while slot is not created');\n      return;\n    }\n    if (this.element) {\n\n      pebTraverseElementDeep(this.element as PebElement_OLD, (el) => this.idsToRender.push(el.id));\n      this.renderElement(this.element as PebElement_OLD, this.mainSlot, null);\n\n      const { current: currentVariables } = this.treeVariablesChanges$.getValue();\n      forEach(sortBy(difference, [v => v.priority]), (element) => {\n        const currentParentId = element.parentId ? element.parentId : null;\n\n        switch (element.executeType) {\n          case 'create':\n            if (this.registryAbstract.has(currentParentId)) {\n              this.registryAbstract.get(currentParentId).instance.element = currentVariables[currentParentId];\n              this.updateStylesAndContext(currentParentId);\n              this.registryAbstract.get(currentParentId).instance.renderChildren();\n            }\n            break;\n\n          case 'move':\n            this.registryAbstract.get(element.id).destroy();\n            this.registryAbstract.delete(element.id);\n\n            this.registrySlot.get(element.id).clear();\n\n            if (this.registryAbstract.has(currentParentId)) {\n              this.registryAbstract.get(currentParentId).instance.element = currentVariables[currentParentId];\n            }\n            this.updateStylesAndContext(currentParentId);\n            this.registryAbstract.get(currentParentId).instance.renderChildren();\n\n            break;\n\n          case 'delete':\n\n            this.registryAbstract.get(element.id).destroy();\n            this.registryAbstract.delete(element.id);\n            break;\n\n          case 'changeStyle':\n            if (this.registryAbstract.has(element.id)) {\n              this.updateStylesAndContext(element.id);\n            }\n            break;\n        }\n      });\n    }\n  }\n\n  private updateStylesAndContext(id) {\n    if (this.registryAbstract.has(id)) {\n      const widgetInstance = this.registryAbstract.get(id).instance;\n      const widgetClass = this.registryAbstract.get(id).componentType as any;\n\n      widgetInstance.styles = this.stylesheet[id] || {};\n      widgetInstance.context = widgetClass.contextFetcher\n        ? widgetClass.contextFetcher(this.context)\n        : this.context ? this.context[id] : null;\n      widgetInstance.applyStyles();\n\n      this.registryAbstract.get(id).changeDetectorRef.detectChanges();\n    }\n  }\n\n  private renderElementChilds(abstractElement) {\n    if (abstractElement.element.children) {\n      abstractElement.childSlots.forEach(slot => {\n        const slotName = slot.name === '' ? 'main' : slot.name;\n        abstractElement.element.children\n          .filter(elDef => {\n            const elSlot = (abstractElement.stylesheet[elDef.id] || {}).slot;\n\n            return (!elSlot && slotName === 'main') || (elSlot === slotName);\n          })\n          .forEach(elDef => {\n            this.renderElement(elDef, slot.viewRef, abstractElement);\n          });\n      });\n\n    }\n  }\n\n  private renderElement: RenderFunctionType = (\n    elementDef: PebElement,\n    slotRef: ViewContainerRef,\n    parentCmp: null | PebAbstractElement,\n  ) => {\n\n    if (this.registryAbstract.has(elementDef.id)) { return; }\n\n    this.idsToRender.push(elementDef.id);\n    const elementComponent = this.elementsCollection[elementDef.type];\n\n    if (!elementComponent) {\n      throw new Error(`\n        \"${elementDef.type}\" element component was not found,\n        make sure you add it to AVAILABLE_ELEMENTS_MAP in renderer.module.ts\n      `);\n    }\n\n    // console.log(111, elementDef.type, this.elementsCollection);\n\n    const cmpFactory = this.cfr.resolveComponentFactory<PebAbstractElement>(elementComponent);\n    const cmpInjector = Injector.create({\n      providers: [\n        {\n          provide: 'STYLESHEET',\n          useValue: this.stylesheet,\n        },\n        {\n          provide: 'PARENT_ELEMENT',\n          useValue: parentCmp,\n        },\n        {\n          provide: RenderFunction,\n          useValue: this.renderElement,\n        },\n        {\n          provide: RenderChildsFunction,\n          useValue: this.renderElementChilds,\n        },\n        {\n          provide: RendererInteractionEmitter,\n          useValue: this.interacted,\n        }\n      ],\n      parent: this.injector,\n    });\n\n    const cmpRef = cmpFactory.create(cmpInjector);\n    cmpRef.instance.element = elementDef;\n    cmpRef.instance.styles = this.stylesheet[elementDef.id] || {};\n    cmpRef.instance.context = (cmpFactory.componentType as any).contextFetcher\n      ? (cmpFactory.componentType as any).contextFetcher(this.context)\n      : this.context?.hasOwnProperty(elementDef.id) ? this.context[elementDef.id] : null;\n\n    cmpRef.instance.options = this.options;\n    cmpRef.instance.applyStyles();\n    cmpRef.changeDetectorRef.detectChanges();\n    this.registry.set(elementDef.id, cmpRef.instance);\n    this.registryAbstract.set(elementDef.id, cmpRef);\n    this.registrySlot.set(elementDef.id, slotRef);\n\n    if (slotRef) {\n      slotRef.insert(cmpRef.hostView);\n    }\n\n    this.idsToRender = this.idsToRender.filter(id => id !== elementDef.id);\n    if (this.idsToRender.length === 0) {\n      this.onRenderingComplete();\n    }\n\n  }\n\n  private onRenderingComplete() {\n    log('Rendering complete!');\n    this.rendered.emit(this.registry);\n  }\n\n\n  @HostBinding('style.width')\n  get stylesWidth() {\n    log(this.screenThresholds);\n    log(this.options.screen);\n    log(this.options.scale);\n    log(this.screenThresholds[this.options.screen] * this.options.scale + 'px')\n    return this.screenThresholds[this.options.screen] * this.options.scale + 'px';\n  }\n}\n","<ng-container pebRendererChildrenSlot></ng-container>\n\n","import { RenderFunction, RenderFunctionType } from './../../renderer.tokens';\nimport {\n  AfterViewInit, ChangeDetectorRef, Component,\n  ElementRef, EventEmitter, HostBinding, HostListener,\n  Inject,\n  Injector,\n  Input, OnChanges, OnDestroy, QueryList,\n  ViewChildren,\n} from '@angular/core';\nimport { PebRendererChildrenSlotDirective } from '../../selectors/children-slot.directive';\nimport { ParentElementComponent, RendererInteractionEmitter,  RenderChildsFunctionType, RenderChildsFunction } from '../../renderer.tokens';\nimport { isArray } from 'lodash-es';\nimport { Subject } from 'rxjs';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Renderer2 } from '@angular/core';\nimport { PebRendererOptions } from '../../renderer.types';\nimport { PebElement, PebElementStyles, PebStylesheet, PebElementContext } from '@pe/builder-core';\n\n@Component({\n  selector: 'peb-element-abstract',\n  template: '',\n})\nexport abstract class PebAbstractElement implements AfterViewInit, OnChanges, OnDestroy {\n  @Input() element: PebElement;\n  @Input() styles: PebElementStyles;\n  @Input() context: PebElementContext<any>;\n\n  @Input() options: PebRendererOptions;\n\n  /** @deprecated: dev only. do not use or rely on */\n  @Input() selected = false;\n\n  destroy$: Subject<boolean> = new Subject<boolean>();\n\n  @ViewChildren(PebRendererChildrenSlotDirective)\n  childSlots: QueryList<PebRendererChildrenSlotDirective>;\n\n  constructor(\n    @Inject(RenderFunction) private renderElement: RenderFunctionType,\n    @Inject(RenderChildsFunction) private renderElementChilds: RenderChildsFunctionType,\n    @Inject(RendererInteractionEmitter) private interactionEmitter: EventEmitter<any>,\n    @Inject('STYLESHEET') private stylesheet: PebStylesheet,\n    @Inject('PARENT_ELEMENT') private parentCmp: PebAbstractElement,\n    protected injector: Injector,\n    private elementRef: ElementRef,\n    private renderer: Renderer2,\n    public sanitizer: DomSanitizer,\n\n    // dev\n    public cdr: ChangeDetectorRef,\n  ) {}\n\n  ngOnChanges() {\n    this.applyStyles();\n  }\n\n  ngAfterViewInit() {\n    this.renderChildren();\n    this.applyStyles();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n  renderChildren() {\n    this.renderElementChilds(this);\n  }\n\n  get parent() {\n    return this.injector.get(ParentElementComponent);\n  }\n\n  get nativeElement() {\n    return this.elementRef.nativeElement;\n  }\n\n  protected abstract get elements(): { [key: string]: HTMLElement | HTMLElement[]};\n\n  protected abstract get mappedStyles(): any;\n\n  applyStyles() {\n    if (this.elements) {\n      Object.entries(this.elements).forEach(([name, element]) => {\n        if (element) {\n          // TODO: add logs if there is no mapped styles for an element\n          const elementStyles = this.mappedStyles && this.mappedStyles[name] ? this.mappedStyles[name] : {};\n          const elementsArr = isArray(element) ? element : [element];\n          elementsArr.forEach(elem => Object.entries(elementStyles).forEach(\n            ([prop, value]) => this.renderer.setStyle(elem, prop, value),\n          ));\n        }\n      });\n    }\n  }\n\n  interact(payload) {\n    this.interactionEmitter.emit(payload);\n  }\n\n  @HostBinding('attr.peb-element-id')\n  get attrElementId() {\n    return this.element.id;\n  }\n}\n\n// FIXME(@ng-packagr/ng-packagr/issues/710): Remove compile warnings\nconst HIDE_WARNINGS = {\n  HostBinding,\n  HostListener,\n  QueryList,\n};\n","import { Component, Input } from '@angular/core';\nimport { PebAbstractElement } from '../../_abstract/abstract.element';\nimport { PebRendererOptions } from '../../../renderer.types';\nimport { PebElement } from '@pe/builder-core';\n\n@Component({\n  selector: 'peb-element-document',\n  templateUrl: './document.element.html',\n  styleUrls: [\n    '../../_abstract/abstract.element.scss',\n    './document.element.scss'\n  ]\n})\nexport class PebDocumentElement extends PebAbstractElement {\n  @Input() element: PebElement;\n  @Input() context: null;\n  @Input() options: PebRendererOptions;\n\n  protected get elements() {\n    return {\n      host: this.nativeElement,\n    };\n  }\n\n  protected get mappedStyles() {\n    return { host: {} };\n  }\n\n  applyStyles() {}\n}\n","<!--<span  *ngIf=\"hovered\" class=\"element-caption\">{{element.type}}</span>-->\n\n<ng-container pebRendererChildrenSlot></ng-container>\n","<!-- TODO: Return this -->\n<!--<ng-container pebRendererChildrenSlot=\"absolute\"></ng-container>-->\n\n<div *ngIf=\"selected\" class=\"selected\"></div>\n\n<div id=\"main-slot\" #wrapper>\n  <ng-container pebRendererChildrenSlot=\"\"></ng-container>\n</div>\n","import { Component, ElementRef, Input, ViewChild } from '@angular/core';\nimport { PebAbstractElement } from '../../_abstract/abstract.element';\nimport { PebElement, PebElementStyles } from '@pe/builder-core';\n\nconst SECTION_DESKTOP_WRAPPER_WIDTH = 1024;\n\n@Component({\n  selector: 'peb-element-section',\n  templateUrl: './section.element.html',\n  styleUrls: [\n    '../../_abstract/abstract.element.scss',\n    './section.element.scss'\n  ],\n})\nexport class PebSectionElement extends PebAbstractElement {\n  @Input() element: PebElement;\n  @Input() styles: PebElementStyles;\n\n  @ViewChild('wrapper') wrapperEl: ElementRef;\n\n  get elements(): { [key: string]: HTMLElement} {\n    return {\n      host: this.nativeElement,\n      wrapper: this.wrapperEl?.nativeElement,\n    };\n  }\n\n  get mappedStyles() {\n    return {\n      host: {\n        position: 'relative',\n        padding: this.styles.padding,\n        margin: this.styles.margin,\n        width: '100%', // FIXME: depending on screen\n        height: this.styles.height\n          ? +this.styles.height * this.options.scale + 'px'\n          : null,\n        // TODO: Think about allowing shorthand\n        // background: this.styles.background,\n        backgroundImage: this.styles.backgroundImage\n          ? 'url(\"' + this.styles.backgroundImage + '\")'\n          : null,\n        backgroundSize: this.styles.backgroundSize\n          ? this.styles.backgroundSize\n          : null,\n        backgroundPosition: this.styles.backgroundPosition\n          ? this.styles.backgroundPosition\n          : null,\n        backgroundRepeat: this.styles.backgroundRepeat\n          ? this.styles.backgroundRepeat\n          : null,\n        backgroundColor: this.styles.backgroundColor\n          ? this.styles.backgroundColor\n          : null,\n      },\n      wrapper: {\n        width: this.options.screen === 'desktop'\n          ? SECTION_DESKTOP_WRAPPER_WIDTH * this.options.scale + 'px'\n          : '100%',\n      },\n    };\n  }\n}\n","<!--<span *ngIf=\"hovered\" class=\"element-caption\">{{element.type}}</span>-->\n\n<div *ngIf=\"selected\" class=\"selected\"></div>\n\n<ng-container pebRendererChildrenSlot></ng-container>\n","import { Component, Input } from '@angular/core';\nimport { PebAbstractElement } from '../../_abstract/abstract.element';\nimport { BlockStyles } from './block.constants';\nimport { PebRendererOptions } from '../../../renderer.types';\nimport { PebElementStyles, PebElement } from '@pe/builder-core';\n\n@Component({\n  selector: 'peb-element-block',\n  templateUrl: './block.element.html',\n  styleUrls: [\n    '../../_abstract/abstract.element.scss',\n  ]\n})\nexport class PebBlockElement extends PebAbstractElement {\n  @Input() element: PebElement;\n  @Input() styles: PebElementStyles;\n  @Input() options: PebRendererOptions;\n\n  get elements(): { [key: string]: HTMLElement } {\n    return {\n      host: this.nativeElement,\n    };\n  }\n\n  get mappedStyles() {\n    const styles = this.styles as BlockStyles;\n    const { scale } = this.options;\n\n    return  {\n      host: {\n        position: styles.position || 'relative',\n        width: styles.width ? +styles.width * scale + 'px' : null,\n        height: styles.height ? +styles.height * scale + 'px' : null,\n        backgroundColor: styles.backgroundColor || null,\n      },\n    };\n  }\n\n}\n","import { Component, Input } from '@angular/core';\nimport { PebAbstractElement } from '../../_abstract/abstract.element';\nimport { PebRendererOptions } from '../../../renderer.types';\nimport { PebElement, PebElementContext } from '@pe/builder-core';\n\n@Component({\n  selector: 'peb-element-text',\n  templateUrl: './text.element.html',\n  styleUrls: [\n    '../../_abstract/abstract.element.scss',\n    './text.element.scss'\n  ]\n})\nexport class PebTextElement extends PebAbstractElement {\n  @Input() element: PebElement;\n  @Input() context: PebElementContext<any>;\n  @Input() options: PebRendererOptions;\n\n  get elements() {\n    return {\n      host: this.nativeElement,\n    };\n  }\n\n  get mappedStyles() {\n    const styles = this.styles as any;\n    const { scale } = this.options;\n\n    const transformMargin = (str) => ('' + str)\n      .split(' ')\n      .map(part => +part * scale + 'px')\n      .join(' ');\n\n    return  {\n      host: {\n        width: styles.width\n          ? (styles.width).toString().includes('%')\n            ? styles.width\n            : styles.width * scale + 'px'\n          : null,\n        position: 'relative',\n        display: 'inline-block',\n        margin: styles.margin ? transformMargin(styles.margin) : null,\n        color: styles.color,\n        fontSize: styles.fontSize\n          ? scale * styles.fontSize + 'px'\n          : scale + 'em',\n        fontWeight: styles.fontWeight,\n        textAlign: styles.textAlign,\n      },\n    };\n  }\n}\n","{{ element.data.text }}\n","<!--<span  *ngIf=\"hovered\" class=\"element-caption\">{{element.type}}</span>-->\n\n<div *ngFor=\"let cell of cells\" class=\"grid-cell\">\n  <ng-container [pebRendererChildrenSlot]=\"cell\"></ng-container>\n</div>\n","import { Component, Input, ViewChildren } from '@angular/core';\nimport { PebAbstractElement } from '../../_abstract/abstract.element';\nimport { PebRendererChildrenSlotDirective } from '../../../selectors/children-slot.directive';\nimport { PebRendererOptions } from '../../../renderer.types';\nimport { PebElementStyles, PebElement } from '@pe/builder-core';\n\nexport interface GridStyles extends PebElementStyles {\n  display: 'horizontal'|'vertical';\n  cells: string;\n  height?: number;\n  gridGap: number;\n}\n\n@Component({\n  selector: 'peb-element-grid',\n  templateUrl: './grid.element.html',\n  styleUrls: [\n    '../../_abstract/abstract.element.scss',\n    './grid.element.scss'\n  ]\n})\nexport class PebGridElement extends PebAbstractElement {\n  @Input() element: PebElement;\n  @Input() styles: GridStyles;\n\n  @Input() options: PebRendererOptions;\n\n  @ViewChildren(PebRendererChildrenSlotDirective) slots: PebRendererChildrenSlotDirective;\n\n  get elements(): { [key: string]: HTMLElement} {\n    return {\n      host: this.nativeElement,\n    };\n  }\n\n  get cells() {\n    return this.styles.cells.split(' ').map(cdef => cdef.split(':').shift());\n  }\n  //\n  // get cellStyle() {\n  //   const direction = getScreenStyle((this.element.style as any).direction, this.options.screen);\n  //   const items = getScreenStyle((this.element.style as any).items, this.options.screen);\n  //\n  //   if (direction === 'column') {\n  //     return { height: 100 / items + '%' };\n  //   } else if (direction === 'row') {\n  //     return { width: 100 / items + '%' };\n  //   } else {\n  //     throw new Error('Renderer: unsupported direction in Grid element');\n  //   }\n  // }\n\n  get mappedStyles() {\n    const scale = this.options.scale;\n    // const thisScreenStyle = (style) => getScreenStyle(style, screen);\n\n    // TODO: Take into account scale\n    const cellsDefToGridTemplate = (def) => def\n      .split(' ')\n      .map(cDef => cDef.split(':').pop())\n      .join(' ');\n\n    const transformMargin = (str) => ('' + str)\n      .split(' ')\n      .map(part => +part * scale + 'px')\n      .join(' ');\n\n    // TODO: Filter out nulls\n    return {\n      host: {\n        display: 'grid',\n        margin: this.styles.margin ? transformMargin(this.styles.margin) : null,\n        gridTemplateColumns: this.styles.direction === 'horizontal'\n          ? cellsDefToGridTemplate(this.styles.cells) : null,\n        gridTemplateRows: this.styles.direction === 'vertical'\n          ? cellsDefToGridTemplate(this.styles.cells) : null,\n        gridGap: this.styles.gridGap\n          ? this.styles.gridGap * scale + 'px'\n          : null,\n        // flexDirection: thisScreenStyle((style as any).direction),\n        // background: style.background\n        //   ? thisScreenStyle(style.background)\n        //   : null,\n        // // TODO: Use styling.utils to not repeat this definitions\n        // width: style.width\n        //   ? scale * thisScreenStyle(style.width) + 'px'\n        //   : null,\n        // height: style.height\n        //   ? scale * thisScreenStyle(style.height) + 'px'\n        //   : null,\n        // top: style.top\n        //   ? scale * thisScreenStyle(style.top) + 'px'\n        //   : null,\n        // left: style.left\n        //   ? scale * thisScreenStyle(style.left) + 'px'\n        //   : null,\n      }\n    };\n  }\n}\n","<ng-container [ngSwitch]=\"context.state\">\n  <ng-container *ngSwitchCase=\"PebElementContextState.Loading\">Loading...</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Error\">Error</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Empty\">Empty</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Ready\">\n    <div class=\"wrapper\">\n      <img [src]=\"context.data.logoUrl\" [alt]=\"context.data.name\" />\n      <h1>{{ context.data.name }}</h1>\n    </div>\n  </ng-container>\n</ng-container>\n","import { Component, HostListener, Input } from '@angular/core';\nimport { PebAbstractElement } from '../../_abstract/abstract.element';\nimport { PebElement, PebElementStyles, PebElementContext, PebElementContextState } from '@pe/builder-core';\n\nexport type LogoContext = PebElementContext<{\n  logoUrl: string;\n  name: string;\n}>;\n\n@Component({\n  selector: 'peb-element-business-logo',\n  templateUrl: './logo.element.html',\n  styleUrls: ['./logo.element.scss']\n})\nexport class PebBusinessLogoElement extends PebAbstractElement {\n  @Input() element: PebElement;\n  @Input() styles: PebElementStyles;\n  @Input() context: LogoContext;\n\n  PebElementContextState = PebElementContextState;\n\n  get elements(): { [key: string]: HTMLElement} {\n    return {\n      host: this.nativeElement,\n    };\n  }\n\n  get mappedStyles() {\n    const { scale } = this.options;\n\n    // TODO: Filter out nulls\n    return {\n      host: {\n        position: 'relative',\n        color: this.styles.color,\n        fontSize: this.styles.fontSize\n          ? (this.styles.fontSize as number * scale) + 'px'\n          : null,\n        left: this.styles.left\n          ? (this.styles.left as number * scale) + 'px'\n          : null,\n        right: this.styles.right\n          ? (this.styles.right as number * scale) + 'px'\n          : null,\n        top: this.styles.to\n          ? (this.styles.top as number * scale) + 'px'\n          : null,\n        bottom: this.styles.bottom\n          ? (this.styles.bottom as number * scale) + 'px'\n          : null,\n      }\n    };\n  }\n\n  @HostListener('click')\n  onClick() {\n    this.interact({ type: 'logo.click' });\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { PebAbstractElement } from '../../_abstract/abstract.element';\nimport { sum } from 'lodash-es';\nimport { Product } from '../../../renderer.types';\nimport { PebElement, PebElementStyles, PebElementContext, PebElementContextState } from '@pe/builder-core';\n\ntype CartContext = PebElementContext<{\n  count: number;\n  product: Product;\n}[]>;\n\n@Component({\n  selector: 'peb-element-shop-cart',\n  templateUrl: './cart.element.html',\n  styleUrls: ['./cart.element.scss']\n})\nexport class PebShopCartElement extends PebAbstractElement {\n  @Input() element: PebElement;\n  @Input() styles: PebElementStyles;\n  @Input() context: CartContext;\n\n  PebElementContextState = PebElementContextState;\n\n  // TODO: --prod build doesn't work\n  // static contextFetcher = ctx => ctx['@cart'];\n\n  onOpenCart(): void {\n    this.interact({type: 'cart.click'});\n  }\n\n  get elements(): { [key: string]: HTMLElement} {\n    return {\n      host: this.nativeElement,\n    };\n  }\n\n  get mappedStyles() {\n    const { scale } = this.options;\n\n    // TODO: Filter out nulls\n    return {\n      host: {\n        // position: 'absolute',\n        color: this.styles.color,\n        fontSize: this.styles.fontSize\n          ? (this.styles.fontSize as number * scale) + 'px'\n          : null,\n        // left: this.styles.left\n        //   ? (this.styles.left as number * scale) + 'px'\n        //   : null,\n        // right: this.styles.right\n        //   ? (this.styles.right as number * scale) + 'px'\n        //   : null,\n        // top: this.styles.to\n        //   ? (this.styles.top as number * scale) + 'px'\n        //   : null,\n        // bottom: this.styles.bottom\n        //   ? (this.styles.bottom as number * scale) + 'px'\n        //   : null,\n      }\n    };\n  }\n\n  get totalItems() {\n    if (this.context.state !== this.PebElementContextState.Ready) {\n      return;\n    }\n\n    return sum(this.context.data.map(i => i.count));\n  }\n\n  get totalAmount() {\n    if (this.context.state !== this.PebElementContextState.Ready) {\n      return;\n    }\n\n    return sum(\n      this.context.data.map(\n        i => i.count * (i.product.prices.sale || i.product.prices.regular)\n      )\n    );\n  }\n}\n","<div class=\"wrapper\" (click)=\"onOpenCart()\">\n  <img src=\"https://www.apple.com/ac/globalnav/5/en_US/images/globalnav/bag/image_large.svg\">\n  <span>\n    {{totalItems}} items / {{ totalAmount}} $\n  </span>\n</div>\n","<div\n  #wrapper\n  class=\"navigation\"\n  *ngIf=\"options.screen !== 'mobile'; else hamburger\">\n  <div class=\"navigation_routes\"\n       *ngIf=\"element.data?.routes\"\n  >\n    <ng-container *ngFor=\"let route of element.data.routes\">\n      <ng-container\n        [ngTemplateOutlet]=\"route?.children?.length ? parentLink : simpleLink\"\n        [ngTemplateOutletContext]=\"{route:route}\"\n      ></ng-container>\n    </ng-container>\n  </div>\n</div>\n\n\n<ng-template #hamburger>\n  <div class=\"navigation_hamburger\" (click)=\"openMobileMenu()\" #mobileButtonWrapper>\n    <div class=\"navigation_hamburger__button\" #mobileButton>\n      <div class=\"line top\" #mobileButtonLine></div>\n      <div class=\"line bottom\" #mobileButtonLine></div>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #simpleLink let-route=\"route\">\n  <a class=\"navigation_routes__element\"\n     (click)=\"redirectTo(route.route)\"\n  >\n    {{route.title}}</a>\n</ng-template>\n\n<ng-template #parentLink let-route=\"route\" let-index=\"index\">\n  <div class=\"expansion-link\" #dropdownLink (click)=\"showDropdown(dropdownLink, route)\">\n    <a class=\"navigation_routes__element\">\n      {{route.title}}\n      <span class=\"arrow\">\n      <svg width=\"10\" height=\"5\" viewBox=\"-2.5 -5 75 60\" preserveAspectRatio=\"none\">\n        <path d=\"M0,0 l35,50 l35,-50\" fill=\"none\" stroke=\"white\" stroke-linecap=\"round\" stroke-width=\"5\"/>\n      </svg>\n    </span>\n    </a>\n  </div>\n</ng-template>\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Input,\n  QueryList,\n  ViewChild,\n  ViewChildren,\n} from '@angular/core';\nimport { PebAbstractElement } from '../../_abstract/abstract.element';\nimport { PebRendererOptions } from '../../../renderer.types';\nimport { PebElement, PebElementStyles } from '@pe/builder-core';\n\n@Component({\n  selector: 'peb-element-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PebNavbarElement extends PebAbstractElement implements AfterViewInit {\n  @Input() element: PebElement;\n  @Input() styles: PebElementStyles;\n  @Input() options: PebRendererOptions;\n  @ViewChild('wrapper') wrapper: ElementRef;\n  @ViewChild('mobileButtonWrapper') mobileButtonWrapper: ElementRef;\n  @ViewChild('mobileButton') mobileButton: ElementRef;\n  @ViewChildren('mobileButtonLine') mobileButtonLines: QueryList<ElementRef>;\n\n  get elements(): { [key: string]: HTMLElement | HTMLElement[] } {\n    return {\n      host: this.nativeElement,\n      wrapper: this.wrapper ? this.wrapper.nativeElement : null,\n      mobileButtonWrapper: this.mobileButtonWrapper ? this.mobileButtonWrapper.nativeElement : null,\n      mobileButton: this.mobileButton ? this.mobileButton.nativeElement : null,\n      mobileButtonLine: this.mobileButtonLines\n        ? this.mobileButtonLines.toArray().map(a => a.nativeElement)\n        : [],\n    };\n  }\n\n  get mappedStyles() {\n    return {\n      host: {\n        color: this.styles.color,\n        background: this.styles.background,\n        fontSize: this.styles.fontSize + 'px',\n      },\n      wrapper: {\n        height: this.styles.height + 'px',\n      },\n      mobileButtonWrapper: {\n        width: this.styles.mobileButtonWidth + 'px',\n      },\n      mobileButton: {\n        height: this.styles.mobileButtonHeight + 'px',\n      },\n      mobileButtonLine: {\n        height: this.styles.mobileButtonElementHeight + 'px',\n        backgroundColor: this.styles.mobileButtonElementColor,\n      }\n    };\n  }\n\n  openMobileMenu() {\n    this.interact({\n      type: 'navigation.showMobileMenu',\n      routes: this.element.data.routes,\n    });\n  }\n\n  redirectTo(url: string) {\n    this.interact({type: 'navigate', url});\n  }\n\n  showDropdown(element, route: any) {\n    this.interact({\n      type: 'navigation.showDropdown',\n      route,\n      element,\n    });\n  }\n\n  ngAfterViewInit() {\n    this.applyStyles();\n  }\n}\n","<ng-container [ngSwitch]=\"context.state\">\n  <ng-container *ngSwitchCase=\"PebElementContextState.Loading\">Loading...</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Error\">Error</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Empty\">Empty</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Ready\">\n    <div class=\"image\" #imageRef></div>\n    <div class=\"info\">\n      <div class=\"title\">{{ context.data.title }}</div>\n      <div class=\"price\">\n        {{ context.data.prices.regular }}\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n","import { Component, ChangeDetectionStrategy, Input, ElementRef, ViewChild, AfterViewInit, HostBinding } from '@angular/core';\nimport { PebAbstractElement } from '../../../_abstract/abstract.element';\nimport { Product } from '../../../../renderer.types';\nimport { PebElementContextState, PebElementContext } from '@pe/builder-core';\n\ntype CategoryProductContext = PebElementContext<Product>;\n\n@Component({\n  selector: 'peb-element-shop-category-product',\n  templateUrl: './category-product.element.html',\n  styleUrls: ['./category-product.element.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PebShopCategoryProductElement extends PebAbstractElement implements AfterViewInit {\n  @Input() context: CategoryProductContext;\n\n  @ViewChild('imageRef') imageRef: ElementRef;\n\n  PebElementContextState = PebElementContextState;\n\n  get elements(): { [key: string]: HTMLElement | HTMLElement[]} {\n    return {\n      host: this.nativeElement,\n      image: this.imageRef?.nativeElement,\n    };\n  }\n\n  get mappedStyles() {\n    return {\n      host: {\n        borderColor: this.styles?.borderColor,\n      },\n      image: {\n        backgroundImage: this.context.state === PebElementContextState.Ready ? `url('${this.context.data.image}')` : null,\n      },\n    };\n  }\n\n  // TODO: return after checking renderer's styling.\n  ngAfterViewInit() {\n    this.applyStyles();\n  }\n\n  @HostBinding('class')\n  get hostClass() {\n    return 'screen-' + this.options.screen;\n  }\n\n}\n","<ng-container [ngSwitch]=\"context.state\">\n  <ng-container *ngSwitchCase=\"PebElementContextState.Ready\">\n    <div class=\"title\">{{ context.data.title }}</div>\n    <div class=\"image-container\">\n      <!-- *ngIf=\"context.data.image else productPreviewIcon\" -->\n      <div #imageRef class=\"image\"></div>\n    <!-- [style.backgroundImage]=\"'url(' + context.data.image + ')'\"> -->\n    </div>\n  </ng-container>\n</ng-container>\n","import { Component, ChangeDetectionStrategy, Input, ElementRef, ViewChild, AfterViewInit, HostBinding } from '@angular/core';\nimport { PebAbstractElement } from '../../../_abstract/abstract.element';\nimport { ProductContext } from '../category.element';\nimport { PebElementContextState } from '@pe/builder-core';\n\n@Component({\n  selector: 'peb-element-shop-category-header',\n  templateUrl: './category-header.element.html',\n  styleUrls: ['./category-header.element.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PebShopCategoryHeaderElement extends PebAbstractElement implements AfterViewInit {\n  @Input() context: ProductContext;\n\n  @ViewChild('imageRef') imageRef: ElementRef;\n\n  PebElementContextState = PebElementContextState;\n\n  get elements(): { [key: string]: HTMLElement | HTMLElement[]} {\n    return {\n      host: this.nativeElement,\n      image: this.imageRef?.nativeElement,\n    };\n  }\n\n  get mappedStyles() {\n    return {\n      host: {\n        borderColor: this.styles?.borderColor,\n      },\n      image: {\n        backgroundImage: this.context.state === PebElementContextState.Ready ? `url('${this.context.data.image}')` : null,\n      },\n    };\n  }\n\n  // TODO: return after checking renderer's styling.\n  ngAfterViewInit() {\n    this.applyStyles();\n  }\n\n  @HostBinding('class')\n  get hostClass() {\n    return 'screen-' + this.options.screen;\n  }\n\n}\n","import { Component, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'peb-icon-filters',\n  template: `\n    <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 13 10\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n        <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n            <g fill-rule=\"nonzero\">\n                <rect fill=\"#666666\" x=\"0\" y=\"0\" width=\"2\" height=\"2\"></rect>\n                <rect fill=\"#666666\" x=\"0\" y=\"4\" width=\"2\" height=\"2\"></rect>\n                <rect fill=\"#666666\" x=\"0\" y=\"8\" width=\"2\" height=\"2\"></rect>\n                <rect fill=\"#666666\" x=\"0\" y=\"8\" width=\"2\" height=\"2\"></rect>\n                <path d=\"M4,1 L13,1\" stroke=\"#666666\"></path>\n                <path d=\"M4,5 L13,5\" stroke=\"#666666\"></path>\n                <path d=\"M4,9 L13,9\" stroke=\"#666666\"></path>\n            </g>\n        </g>\n    </svg>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PebFiltersIcon {\n\n}\n","<ng-container [ngSwitch]=\"context.state\">\n  <ng-container *ngSwitchCase=\"PebElementContextState.Ready\">\n    <div class=\"navbar-button\" (click)=\"onToggleShownFilters()\">\n      <div class=\"navbar-button__icon\">\n        <peb-icon-filters></peb-icon-filters>\n      </div>\n      <div class=\"navbar-button__label\">Filter</div>\n    </div>\n    <label class=\"navbar-button navbar-button--right\">\n      <span>Sort by:</span>\n      <select class=\"navbar-select\">\n        <option>Price: Low to High</option>\n        <option>Price: High to Low</option>\n      </select>\n    </label>\n  </ng-container>\n</ng-container>\n","import { Component, ChangeDetectionStrategy, Input, ElementRef, ViewChild, AfterViewInit, HostBinding } from '@angular/core';\nimport { PebAbstractElement } from '../../../_abstract/abstract.element';\nimport { ProductContext } from '../category.element';\nimport { PebElementContextState } from '@pe/builder-core';\n\n@Component({\n  selector: 'peb-element-shop-category-navbar',\n  templateUrl: './category-navbar.element.html',\n  styleUrls: ['./category-navbar.element.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PebShopCategoryNavbarElement extends PebAbstractElement implements AfterViewInit {\n  @Input() context: ProductContext;\n\n  @ViewChild('imageRef') imageRef: ElementRef;\n\n  PebElementContextState = PebElementContextState;\n\n  get elements(): { [key: string]: HTMLElement | HTMLElement[]} {\n    return {\n      host: this.nativeElement,\n    };\n  }\n\n  get mappedStyles() {\n    return {\n      host: {\n        borderColor: this.styles?.borderColor,\n      },\n    };\n  }\n\n  onToggleShownFilters(): void {\n\n  }\n\n  // TODO: return after checking renderer's styling.\n  ngAfterViewInit() {\n    this.applyStyles();\n  }\n\n  @HostBinding('class')\n  get hostClass() {\n    return 'screen-' + this.options.screen;\n  }\n\n}\n","import { Component, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'peb-icon-plus',\n  template: `\n    <svg width=\"7px\" height=\"7px\" viewBox=\"0 0 7 7\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" stroke-linecap=\"square\">\n        <g transform=\"translate(-188.000000, -547.000000)\" stroke=\"#979797\">\n          <g transform=\"translate(189.000000, 548.000000)\">\n            <line x1=\"2.5\" y1=\"0\" x2=\"2.5\" y2=\"5\" id=\"Line-3\"></line>\n            <line x1=\"2.5\" y1=\"0\" x2=\"2.5\" y2=\"5\" id=\"Line-3\"\n              transform=\"translate(2.500000, 2.500000) rotate(-270.000000) translate(-2.500000, -2.500000) \"></line>\n          </g>\n        </g>\n      </g>\n    </svg>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PebPlusIcon {\n\n}\n","<ng-container [ngSwitch]=\"context.state\">\n  <ng-container *ngSwitchCase=\"PebElementContextState.Ready\">\n    <div class=\"container\">\n\n      <div class=\"mobile-controls\">\n        <button\n          class=\"mobile-control\"\n          (click)=\"onToggleShownFilters()\"\n        >\n          <span class=\"close-icon\"></span>\n        </button>\n\n        <button\n          class=\"mobile-control mobile-control--black\"\n          (click)=\"onToggleShownFilters()\"\n        >\n          Done\n        </button>\n      </div>\n\n      <div\n        *ngFor=\"let parentFilter of context.data.filters\"\n        class=\"filter-container\"\n        [style.borderColor]=\"styles?.borderColor\"\n      >\n        <button\n          class=\"filter-parent\"\n        >\n          <span>{{ parentFilter?.name }}</span>\n          <div\n            class=\"filter-icon\"\n            [class.filter-icon--expanded]=\"parentFilter?.children?.length\"\n          >\n            <peb-icon-plus></peb-icon-plus>\n          </div>\n        </button>\n        <button\n          *ngFor=\"let childFilter of parentFilter?.children\"\n          class=\"filter-child\"\n          [class.filter-child--active]=\"childFilter?.active\"\n          [disabled]=\"childFilter?.disabled\"\n          (click)=\"onToggleFilter(childFilter)\"\n        >\n          <span>{{ childFilter?.name }}</span>\n        </button>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n","import { Component, ChangeDetectionStrategy, Input, AfterViewInit, HostBinding } from '@angular/core';\nimport { PebAbstractElement } from '../../../_abstract/abstract.element';\nimport { ProductContext } from '../category.element';\nimport { PebElementContextState } from '@pe/builder-core';\n\n@Component({\n  selector: 'peb-element-shop-category-filters',\n  templateUrl: './category-filters.element.html',\n  styleUrls: ['./category-filters.element.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PebShopCategoryFiltersElement extends PebAbstractElement implements AfterViewInit {\n  @Input() context: ProductContext;\n\n  PebElementContextState = PebElementContextState;\n\n  get elements(): { [key: string]: HTMLElement | HTMLElement[]} {\n    return {\n      host: this.nativeElement,\n    };\n  }\n\n  get mappedStyles() {\n    return {\n      host: {\n        borderColor: this.styles?.borderColor,\n      },\n    };\n  }\n\n  onToggleFilter(): void {\n\n  }\n\n  onToggleShownFilters(): void {\n\n  }\n\n  // TODO: return after checking renderer's styling.\n  ngAfterViewInit() {\n    this.applyStyles();\n  }\n\n  @HostBinding('class')\n  get hostClass() {\n    return 'screen-' + this.options.screen;\n  }\n\n}\n","<ng-container [ngSwitch]=\"context.state\">\n  <ng-container *ngSwitchCase=\"PebElementContextState.Loading\">Loading...</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Error\">Error</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Empty\">Empty</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Ready\">\n    <peb-element-shop-category-header\n      [context]=\"context\"\n      [options]=\"options\"\n      [styles]=\"styles\"\n    ></peb-element-shop-category-header>\n    <peb-element-shop-category-navbar\n      [context]=\"context\"\n      [options]=\"options\"\n      [styles]=\"styles\"\n    ></peb-element-shop-category-navbar>\n    <div class=\"category-content\">\n      <peb-element-shop-category-filters\n        [context]=\"context\"\n        [options]=\"options\"\n        [styles]=\"styles\"\n      ></peb-element-shop-category-filters>\n      <div #productsGridRef class=\"category-products\">\n        <peb-element-shop-category-product\n          *ngFor=\"let product of context.data.products\"\n          [context]=\"{ state: PebElementContextState.Ready, data: product }\"\n          [options]=\"options\"\n          [styles]=\"styles\"\n        ></peb-element-shop-category-product>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n","import { Component, HostBinding, Input, ViewChild, ElementRef, ChangeDetectionStrategy, ViewChildren, QueryList, AfterViewInit } from '@angular/core';\nimport { PebAbstractElement } from '../../_abstract/abstract.element';\nimport { Product } from '../../../renderer.types';\nimport { PebShopCategoryProductElement } from './category-product/category-product.element';\nimport { PebShopCategoryHeaderElement } from './category-header/category-header.element';\nimport { PebShopCategoryNavbarElement } from './category-navbar/category-navbar.element';\nimport { PebShopCategoryFiltersElement } from './category-filters/category-filters.element';\nimport { PebElementStyles, PebElement, PebElementContext, PebElementContextState } from '@pe/builder-core';\n\ninterface ShopCategory extends PebElement {\n  variant: 'link'|'purchase';\n}\n\ninterface ShopCategoryFilter {\n  name: string;\n  active: boolean;\n  disabled: boolean;\n  children: ShopCategoryFilter[];\n}\n\ninterface ProductElementData {\n  title: string;\n  image: string;\n  shownFilters: boolean;\n  filters: ShopCategoryFilter[];\n  products: Product[];\n}\n\nexport type ProductContext = PebElementContext<ProductElementData>;\n\nconst HEADER_STYLES = {\n  height: {\n    desktop: 225,\n    tablet: 225,\n    mobile: 225,\n  },\n  fontSize: {\n    desktop: 40,\n    tablet: 40,\n    mobile: 40,\n  },\n};\n\nconst NAVBAR_STYLES = {\n  height: {\n    desktop: 60,\n    tablet: 60,\n    mobile: 60,\n  },\n  fontSize: {\n    desktop: 12,\n    tablet: 12,\n    mobile: 12,\n  },\n};\n\nconst FILTERS_STYLES = {\n  fontSize: {\n    desktop: 14,\n    tablet: 14,\n    mobile: 14,\n  },\n};\n\nconst PRODUCT_STYLES = {\n  height: {\n    desktop: 500,\n    tablet: 500,\n    mobile: 500,\n  },\n  fontSize: {\n    desktop: 17,\n    tablet: 16,\n    mobile: 14,\n  },\n};\n\nconst COLUMNS = 3;\n\n@Component({\n  selector: 'peb-element-shop-category',\n  templateUrl: './category.element.html',\n  styleUrls: ['./category.element.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PebShopCategoryElement extends PebAbstractElement implements AfterViewInit {\n  @Input() element: ShopCategory;\n  @Input() styles: PebElementStyles;\n  @Input() context: ProductContext;\n\n  @ViewChild(PebShopCategoryHeaderElement, { read: ElementRef }) headerRef: ElementRef;\n  @ViewChild(PebShopCategoryNavbarElement, { read: ElementRef }) navbarRef: ElementRef;\n  @ViewChild(PebShopCategoryFiltersElement, { read: ElementRef }) filtersRef: ElementRef;\n  @ViewChild('productsGridRef') productsGridRef: ElementRef;\n  @ViewChildren(PebShopCategoryProductElement, { read: ElementRef }) productElements: QueryList<ElementRef>;\n\n  PebElementContextState = PebElementContextState;\n\n  onToggleShownFilters(): void {\n    this.interact({type: 'category.toggle-filters'});\n  }\n\n  onToggleFilter(value): void {\n    this.interact({type: 'category.toggle-filter', value});\n  }\n\n  onProductClick(): void {\n  }\n\n  get elements(): { [key: string]: HTMLElement | HTMLElement[]} {\n    return {\n      host: this.nativeElement,\n      header: this.headerRef?.nativeElement,\n      navbar: this.navbarRef?.nativeElement,\n      filters: this.filtersRef?.nativeElement,\n      productsGrid: this.productsGridRef?.nativeElement,\n      products: this.productElements?.toArray().map(a => a.nativeElement) || [],\n    };\n  }\n\n  get mappedStyles() {\n    const { screen, scale } = this.options;\n\n    return {\n      host: {\n        position: 'relative',\n        width: this.styles.width\n          ? `${+this.styles.width * scale}px`\n          : `${100 * scale}%`,\n        height: this.styles.height\n          ? `${+this.styles.height * scale}px`\n          : null,\n        left: this.styles.left\n          ? `${+this.styles.left * scale}px`\n          : null,\n        top: this.styles.top\n          ? `${+this.styles.top * scale}px`\n          : null,\n        background: this.styles?.mode === 'dark' ? '#333' : '#fff',\n        color: this.styles?.mode === 'dark' ? '#fff' : '#333',\n      },\n      header: {\n        height: `${HEADER_STYLES.height[screen] * scale}px`,\n        fontSize: `${HEADER_STYLES.fontSize[screen] * scale}px`\n      },\n      navbar: {\n        background: this.styles?.mode === 'dark' ? '#333' : '#fff',\n        borderColor: this.styles?.borderColor,\n        height: `${NAVBAR_STYLES.height[screen] * scale}px`,\n        fontSize: `${NAVBAR_STYLES.fontSize[screen] * scale}px`,\n      },\n      filters: {\n        display: this.context.state === PebElementContextState.Ready && this.context.data.shownFilters ? 'block' : 'none',\n        fontSize: `${FILTERS_STYLES.fontSize[screen] * scale}px`,\n      },\n      productsGrid: {\n        gridTemplateColumns: `repeat(${this.styles?.columns || COLUMNS}, 1fr)`,\n        boxShadow: `inset 1px 0 0 0 ${this.styles?.borderColor || '#d6d6d6'}`,\n      },\n      products: {\n        height: `${PRODUCT_STYLES.height[screen] * scale}px`,\n        fontSize: `${PRODUCT_STYLES.fontSize[screen] * scale}px`,\n      }\n    };\n  }\n\n  @HostBinding('class')\n  get hostClass() {\n    return 'screen-' + this.options?.screen;\n  }\n\n    // TODO: clean up after fix\n  ngAfterViewInit() {\n    this.applyStyles();\n  }\n}\n","<ng-container [ngSwitch]=\"context.state\">\n  <ng-container *ngSwitchCase=\"PebElementContextState.Loading\">Loading...</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Error\">Error</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Empty\">Empty</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Ready\">\n    <div class=\"product\">\n      <div class=\"product__image\" #imageRef></div>\n      <div class=\"product__content\">\n        <div class=\"product__title\">{{ context?.data.title }}</div>\n        <div class=\"product__price-container\">\n          <div class=\"product__price\">${{ context?.data.prices?.regular }}</div>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n","import { Component, ChangeDetectionStrategy, Input, ElementRef, ViewChild, AfterViewInit } from '@angular/core';\nimport { Product } from '../../../../renderer.types';\nimport { PebAbstractElement } from '../../../_abstract/abstract.element';\nimport { PebElementContextState, PebElementContext } from '@pe/builder-core';\n\ntype ProductContext = PebElementContext<Product>;\n\n@Component({\n  selector: 'peb-element-shop-product',\n  templateUrl: './product.element.html',\n  styleUrls: ['./product.element.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PebShopProductElement extends PebAbstractElement implements AfterViewInit {\n  @Input() context: ProductContext;\n\n  @ViewChild('imageRef') imageRef: ElementRef;\n\n  PebElementContextState = PebElementContextState;\n\n  get elements(): { [key: string]: HTMLElement | HTMLElement[]} {\n    return {\n      host: this.nativeElement,\n      image: this.imageRef?.nativeElement,\n    };\n  }\n\n  get mappedStyles() {\n    return {\n      host: {},\n      image: {\n        backgroundImage: this.context.state === PebElementContextState.Ready ? `url('${this.context.data.image}')` : null,\n      },\n    };\n  }\n\n  ngAfterViewInit() {\n    this.applyStyles();\n  }\n\n}\n","<ng-container [ngSwitch]=\"context.state\">\n  <ng-container *ngSwitchCase=\"PebElementContextState.Loading\">Loading...</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Error\">Error</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Empty\">Empty</ng-container>\n  <ng-container *ngSwitchCase=\"PebElementContextState.Ready\">\n    <div class=\"products\" #productsGridRef>\n      <peb-element-shop-product\n        *ngFor=\"let product of context?.data\"\n        [element]=\"element\"\n        [options]=\"options\"\n        [context]=\"{ state: 'ready', data: product }\"\n      ></peb-element-shop-product>\n    </div>\n  </ng-container>\n</ng-container>\n<div *ngIf=\"selected\" class=\"selected\"></div>\n","import { Component, HostBinding, Input, ViewChildren, QueryList, AfterViewInit, ElementRef, ViewChild } from '@angular/core';\nimport { PebAbstractElement } from '../../_abstract/abstract.element';\nimport { Product } from '../../../renderer.types';\nimport { PebShopProductElement } from './product/product.element';\nimport { PebElement, PebElementStyles, PebElementContextState, PebElementContext } from '@pe/builder-core';\n\ninterface ProductElement extends PebElement {\n  variant: 'link'|'purchase';\n}\n\ntype ProductsContext = PebElementContext<Product[]>;\n\n@Component({\n  selector: 'peb-element-shop-products',\n  templateUrl: './products.element.html',\n  styleUrls: ['./products.element.scss']\n})\nexport class PebShopProductsElement extends PebAbstractElement implements AfterViewInit {\n  @Input() element: ProductElement;\n  @Input() styles: PebElementStyles;\n  @Input() context: ProductsContext;\n\n  @ViewChild('productsGridRef') productsGridRef: ElementRef;\n  @ViewChildren(PebShopProductElement, { read: ElementRef }) productElements: QueryList<ElementRef>;\n\n  PebElementContextState = PebElementContextState;\n\n  get elements(): { [key: string]: HTMLElement | HTMLElement[]} {\n    return {\n      host: this.nativeElement,\n      productsGrid: this.productsGridRef?.nativeElement,\n      products: this.productElements?.toArray().map(a => a.nativeElement) || [],\n    };\n  }\n\n  get mappedStyles() {\n    const { scale } = this.options;\n\n    return {\n      host: {\n        position: 'relative',\n        width: this.context.state === PebElementContextState.Ready ?\n          `${+this.styles.itemWidth * Math.ceil(this.context.data.length / +this.styles.rows) * scale}px` :\n          null,\n        height: this.context.state === PebElementContextState.Ready ?\n          `${+this.styles.itemHeight * Math.ceil(this.context.data.length / +this.styles.columns) * scale}px` :\n          null,\n        left: this.styles.left\n          ? (this.styles.left as number * scale) + 'px'\n          : null,\n        top: this.styles.to\n          ? (this.styles.top as number * scale) + 'px'\n          : null,\n      },\n      products: {\n        width: `${+this.styles.itemWidth * scale}px`,\n        height: `${+this.styles.itemHeight * scale}px`,\n      },\n      productsGrid: {\n        gridTemplateColumns: `repeat(${this.styles.columns}, minmax(${+this.styles.itemWidth * scale}px, 1fr))`\n      },\n    };\n  }\n\n  addToCart() {\n    this.interact({\n      type: 'product.add-to-cart',\n      product: (this.context as any).data,\n    });\n  }\n\n  // @HostListener('click')\n  // openProductPage() {\n  //   if ((this.element as any).variant && this.context.state === 'ready') {\n  //     this.interact({\n  //       type: 'product.navigate-to-page',\n  //       product: (this.context as any).data\n  //     });\n  //   }\n  // }\n\n  @HostBinding('class')\n  get hostClass() {\n    return 'state-' + this.context?.state;\n  }\n\n  // TODO: clean up after fix\n  ngAfterViewInit() {\n    this.applyStyles();\n  }\n}\n","import { Component, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'peb-icon-product',\n  template: `\n    <svg width=\"68px\" height=\"64px\" viewBox=\"0 0 68 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g fill=\"#E0E0E0\" fill-rule=\"nonzero\">\n          <path\n            d=\"M33.1126056,0.081686 C33.4113758,-0.027229 33.7397869,-0.027229 34.0386884,0.081686 L34.0386884,0.081686 L66.276624,11.841474 C66.80216,12.033242 67.151163,12.528284 67.151163,13.082192 L67.151163,13.082192 L67.151163,50.917808 C67.151163,51.471586 66.80216,51.966758 66.276624,52.158526 L66.276624,52.158526 L34.0386884,63.918184 C33.8896967,63.971604 33.7329669,63.9999998 33.5754502,63.9999998 C33.4195074,63.9999998 33.2627776,63.97316 33.1124744,63.918184 L33.1124744,63.918184 L0.874539,52.158526 C0.3490024,51.966758 0,51.471586 0,50.917808 L0,50.917808 L0,13.082192 C0,12.649776 0.2139132,12.244458 0.5728834,11.997196 C0.6673147,11.932107 0.7689595,11.88115 0.8744078,11.842511 L0.8744078,11.842511 L0.8746701,11.841474 L33.1126056,0.081686 Z M64.475871,14.979639 L34.9132273,25.763605 L34.9132273,60.780019 L64.475871,49.996183 L64.475871,14.979639 Z M2.6752918,14.979639 L2.6752918,49.996183 L32.2379355,60.780019 L32.2379355,25.763605 L25.8171302,23.421424 L25.8171302,38.468746 C25.8171302,38.901162 25.603217,39.30635 25.2442468,39.553612 C25.0166935,39.710372 24.7492693,39.79115 24.4792219,39.79115 C24.3232791,39.79115 24.1666805,39.76431 24.0162462,39.709464 L24.0162462,39.709464 L9.5694341,34.439426 C9.0438976,34.247659 8.6948951,33.752487 8.6948951,33.198708 L8.6948951,33.198708 L8.6948951,17.175564 L2.6752918,14.979639 Z M43.980995,53.230297 C44.220762,53.872722 43.92405,54.58113 43.314993,54.875503 L43.189083,54.928715 L42.599937,55.143562 C42.447142,55.199316 42.290674,55.225767 42.136961,55.225767 C41.592669,55.225767 41.081167,54.894874 40.8818116,54.360674 C40.6420445,53.718248 40.9387561,53.00984 41.547813,52.715467 L41.673723,52.662256 L42.26287,52.447279 C42.956022,52.194442 43.725244,52.544913 43.980995,53.230297 Z M61.717821,46.760125 C61.957588,47.40255 61.660992,48.110958 61.05184,48.405438 L60.925909,48.458673 L47.014077,53.533442 C46.861282,53.589066 46.704814,53.615517 46.551101,53.615517 C46.006809,53.615517 45.495437,53.284884 45.295951,52.750554 C45.056184,52.108128 45.352781,51.399607 45.961932,51.105219 L46.087863,51.052006 L59.999695,45.977236 C60.692847,45.724399 61.461938,46.074741 61.717821,46.760125 Z M61.717821,41.371318 C61.957588,42.013744 61.660992,42.722266 61.05184,43.016653 L60.925909,43.069867 L49.931873,47.080256 C49.779079,47.13588 49.622611,47.16233 49.468897,47.16233 C48.924606,47.16233 48.413234,46.831567 48.213748,46.297367 C47.973981,45.654942 48.270578,44.94642 48.879728,44.652033 L49.00566,44.598819 L59.999695,40.58843 C60.692847,40.335852 61.461938,40.686064 61.717821,41.371318 Z M61.717821,36.038525 C61.957588,36.680951 61.660992,37.389359 61.05184,37.683732 L60.925909,37.736944 L49.931873,41.747462 C49.779079,41.803087 49.622611,41.829537 49.468897,41.829537 C48.924606,41.829537 48.413234,41.498774 48.213748,40.964574 C47.973981,40.322027 48.270578,39.613612 48.879728,39.319238 L49.00566,39.266026 L59.999695,35.255637 C60.692847,35.003059 61.461938,35.353142 61.717821,36.038525 Z M11.370187,18.151386 L11.370187,32.276954 L23.1417072,36.57104 L23.1417072,22.445472 L11.370187,18.151386 Z M33.5755814,2.732199 L5.2019855,13.082192 L10.017983,14.838958 L24.0162462,9.732552 C24.3152786,9.623637 24.6436899,9.623637 24.94246,9.732552 L24.94246,9.732552 L39.3894032,15.002459 C39.9149397,15.194227 40.2639421,15.689269 40.2639421,16.243178 C40.2639421,16.796956 39.9149397,17.292128 39.3894032,17.483896 L39.3894032,17.483896 L28.3292657,21.518402 L33.5755814,23.432315 L61.949177,13.082322 L33.5755814,2.732199 Z M24.4793531,12.382935 L13.8967495,16.243307 L24.4793531,20.10355 L35.0619566,16.243307 L24.4793531,12.382935 Z\">\n          </path>\n        </g>\n      </g>\n    </svg>\n  `,\n  styles: [`\n    :host {\n      display: flex;\n      margin: auto;\n    }\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PebProductIcon {\n\n}\n","import { Component, ChangeDetectionStrategy, Input, HostListener } from '@angular/core';\nimport { PebAbstractElement } from '../../_abstract/abstract.element';\nimport { PebRendererOptions } from '../../../renderer.types';\nimport { PebElement, PebElementStyles } from '@pe/builder-core';\n\n@Component({\n  selector: 'peb-element-button',\n  templateUrl: './button.element.html',\n  styleUrls: ['./button.element.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PebButtonElement extends PebAbstractElement {\n  @Input() element: PebElement;\n  @Input() styles: PebElementStyles;\n  @Input() options: PebRendererOptions;\n  get elements(): { [key: string]: HTMLElement } {\n    return {\n      host: this.nativeElement,\n    };\n  }\n  get mappedStyles(): any {\n    const styles = this.styles;\n    const { scale } = this.options;\n\n    return  {\n      host: {\n        width: styles.width ? +styles.width * scale + 'px' : null,\n        position: styles.position || 'relative',\n        height: styles.height ? +styles.height * scale + 'px' : null,\n        backgroundColor: styles.backgroundColor || null,\n        textAlign: styles.textAlign || 'center',\n        padding: styles.padding ? +styles.padding * scale + 'px' : null,\n        borderRadius: styles.borderRadius ? + styles.borderRadius * scale  + 'px' : null,\n        paddingRight: styles.paddingRight ? + styles.paddingRight * scale   + 'px' : null,\n        paddingLeft: styles.paddingLeft ? + styles.paddingLeft * scale   + 'px' : null,\n        color: styles.color || '#000'\n      },\n    };\n  }\n\n  @HostListener('click')\n  onClick() {\n    this.interact({ type: 'button.click' });\n  }\n\n}\n","<span>{{ element.data.name }}</span>\n","import { Component, ChangeDetectionStrategy, Input } from '@angular/core';\nimport { PebAbstractElement } from '../../_abstract/abstract.element';\nimport { PebElement, PebElementStyles } from '@pe/builder-core';\nimport { PebRendererOptions } from '../../../renderer.types';\n\n@Component({\n  selector: 'peb-element-image',\n  templateUrl: './image.element.html',\n  styleUrls: ['./image.element.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PebImageElement extends PebAbstractElement {\n\n  @Input() element: PebElement;\n  @Input() styles: PebElementStyles;\n  @Input() options: PebRendererOptions;\n\n  get elements(): { [key: string]: HTMLElement | HTMLElement[] } {\n    return {\n      host: this.nativeElement,\n    };\n  }\n\n  get mappedStyles() {\n    const { scale } = this.options;\n\n    // TODO: Filter out nulls\n    return {\n      host: {\n        position: 'relative',\n        color: this.styles.color,\n        width: this.styles.width\n          ? (this.styles.width as number * scale)  + 'px'\n          : '100%',\n        height: this.styles.height\n          ? (this.styles.height as number * scale) + 'px'\n          : '100%',\n        left: this.styles.left\n          ? (this.styles.left as number * scale) + 'px'\n          : null,\n        right: this.styles.right\n          ? (this.styles.right as number * scale) + 'px'\n          : null,\n        top: this.styles.top\n          ? (this.styles.top as number * scale) + 'px'\n          : null,\n        bottom: this.styles.bottom\n          ? (this.styles.bottom as number * scale) + 'px'\n          : null,\n        border: this.styles.border\n          ? this.styles.border\n          : null,\n      }\n    };\n  }\n}\n","<img [src]=\"element.data.src\">\n","<video [controls]=\"videoSettings.controls\" [autoplay]=\"videoSettings.autoplay\" [loop]=\"videoSettings.loop\">\n  <source [src]=\"source\" *ngFor=\"let source of sources\">\n</video>\n","import { Component, OnInit, ChangeDetectionStrategy, Input } from '@angular/core';\nimport { PebAbstractElement } from '../../_abstract/abstract.element';\nimport { PebElement, PebElementStyles } from '@pe/builder-core';\nimport { PebRendererOptions } from '../../../renderer.types';\n\n@Component({\n  selector: 'peb-element-video',\n  templateUrl: './video.element.html',\n  styleUrls: ['./video.element.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PebVideoElement extends PebAbstractElement implements OnInit {\n  @Input() element: PebElement;\n  @Input() styles: PebElementStyles;\n  @Input() options: PebRendererOptions;\n\n  sources: string[] = [];\n  videoSettings: {\n    autoplay: boolean,\n    controls: boolean,\n    loop: boolean,\n  };\n\n  get elements(): { [key: string]: HTMLElement | HTMLElement[] } {\n    return {\n      host: this.nativeElement,\n    };\n  }\n\n  get mappedStyles() {\n    const { scale } = this.options;\n\n    return {\n      host: {\n        position: 'relative',\n        color: this.styles.color,\n        width: this.styles.width\n          ? (this.styles.width as number * scale)  + 'px'\n          : '100%',\n        height: this.styles.height\n          ? (this.styles.height as number * scale) + 'px'\n          : '100%',\n        left: this.styles.left\n          ? (this.styles.left as number * scale) + 'px'\n          : null,\n        right: this.styles.right\n          ? (this.styles.right as number * scale) + 'px'\n          : null,\n        top: this.styles.top\n          ? (this.styles.top as number * scale) + 'px'\n          : null,\n        bottom: this.styles.bottom\n          ? (this.styles.bottom as number * scale) + 'px'\n          : null,\n        border: this.styles.border\n          ? this.styles.border\n          : null,\n      }\n    };\n  }\n\n  ngOnInit(): void {\n    this.videoSettings = this.element.data.settings;\n    this.sources = this.element.data.sources;\n  }\n\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Input,\n  QueryList,\n  ViewChild,\n  ViewChildren,\n  OnInit,\n  HostListener\n} from '@angular/core';\n\nimport { PebAbstractElement } from '../../_abstract/abstract.element';\nimport { PebElement, PebStyles } from '../../../core.types';\nimport { PebRendererOptions } from '../../../renderer.types';\nimport { Subscription } from 'rxjs';\nimport { FormControl } from '@angular/forms';\n// import { LineStyles } from './line.constants';\n\n@Component({\n  selector: 'peb-element-line',\n  templateUrl: './line.element.html',\n  styleUrls: ['../../_abstract/abstract.element.scss',\n  './line.element.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PebLineElement extends PebAbstractElement implements OnInit, AfterViewInit {\n\n  @Input() element: PebElement;\n  @Input() styles: PebStyles;\n\n  @Input() options: PebRendererOptions;\n\n\n  get elements(): { [key: string]: HTMLElement } {\n    return {\n      host: this.nativeElement,\n    };\n  }\n\n\n  get mappedStyles() {\n    // const styles = this.styles as LineStyles;\n    // const { scale } = this.options;\n\n    return  {\n      host: {\n        position: 'relative',\n        width: this.styles.width ? `${this.styles.width}px` : '60%',\n        height: this.styles.height ? `${+this.styles.height}px`\n          : '0.5px',\n        backgroundColor: this.styles.backgroundColor ? this.styles.backgroundColor : 'black',\n        color: this.styles.color ? this.styles.color : 'white',\n        fontSize: this.styles.fontSize + 'px',\n        margin: this.styles.margin ? this.styles.margin : '5rem',\n        boxShadow: this.styles.boxShadow ? this.styles.boxShadow : null,\n        opacity: this.styles.opacity ? this.styles.opacity : null,\n        transform: this.styles.transform,\n        top: this.styles.top ? this.styles.top : '-25rem',\n        float: this.styles.float\n\n      },\n    };\n  }\n\n  ngOnInit() {\n    console.log('I was called');\n\n  }\n\n  ngAfterViewInit() {\n    this.applyStyles();\n    this.renderChildren();\n  }\n        // el.addEventListener('click', this.displayFullDescription());\n\n\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { fromPairs } from 'lodash-es';\n\nimport { PebRendererComponent } from './root/renderer.component';\nimport { PebRendererChildrenSlotDirective } from './selectors/children-slot.directive';\nimport { PebDocumentElement } from './elements/general/document/document.element';\nimport { PebSectionElement } from './elements/general/section/section.element';\nimport { PebBlockElement } from './elements/general/block/block.element';\nimport { PebTextElement } from './elements/general/text/text.element';\nimport { getIvyComponentSelector } from './utils';\nimport { ElementComponentsCollection, MakerComponentsCollection } from './renderer.tokens';\nimport { PebGridElement } from './elements/general/grid/grid.element';\nimport { PebBusinessLogoElement } from './elements/company/logo/logo.element';\nimport { PebShopCartElement } from './elements/shop/cart/cart.element';\nimport { PebNavbarElement } from './elements/company/navbar/navbar.component';\nimport { PebShopCategoryElement } from './elements/shop/category/category.element';\nimport { PebShopProductsElement } from './elements/shop/products/products.element';\nimport { PebShopProductElement } from './elements/shop/products/product/product.element';\nimport { PebShopCategoryHeaderElement } from './elements/shop/category/category-header/category-header.element';\nimport { PebShopCategoryNavbarElement } from './elements/shop/category/category-navbar/category-navbar.element';\nimport { PebShopCategoryFiltersElement } from './elements/shop/category/category-filters/category-filters.element';\nimport { PebShopCategoryProductElement } from './elements/shop/category/category-product/category-product.element';\nimport { PebProductIcon } from './elements/icons/product.icon';\nimport { PebPlusIcon } from './elements/icons/plus.icon';\nimport { PebFiltersIcon } from './elements/icons/filters.icon';\nimport { PebButtonElement } from './elements/general/button/button.element';\nimport { PebImageElement } from './elements/general/image/image.element';\nimport { PebVideoElement } from './elements/general/video/video.element';\nimport { PebLineElement } from './elements/general/line/line.element';\n\nconst AVAILABLE_ELEMENTS_SET = [\n  // General\n  PebDocumentElement,\n  PebSectionElement,\n  PebBlockElement,\n  PebTextElement,\n  PebGridElement,\n  PebButtonElement,\n  PebImageElement,\n  PebVideoElement,\n  PebLineElement,\n\n  // Business\n  PebBusinessLogoElement,\n  PebNavbarElement,\n\n  // Shop\n  PebShopCartElement,\n  PebShopCategoryElement,\n  PebShopCategoryHeaderElement,\n  PebShopCategoryNavbarElement,\n  PebShopCategoryFiltersElement,\n  PebShopCategoryProductElement,\n  PebShopProductElement,\n  PebShopProductsElement,\n];\n\nconst ICONS = [\n  PebProductIcon,\n  PebPlusIcon,\n  PebFiltersIcon,\n];\n\n// TODO: Add check for element selectors to be unique\n// commented because doesn't work with --prod key\n// const AVAILABLE_ELEMENTS_MAP = fromPairs(\n//   AVAILABLE_ELEMENTS_SET.map(\n//     cmp => [\n//       getIvyComponentSelector(cmp).replace('peb-element-', '') as PebElementType,\n//       cmp,\n//     ]\n//   )\n// );\nexport const AVAILABLE_ELEMENTS_MAP = {\n  document: PebDocumentElement,\n  section: PebSectionElement,\n  block: PebBlockElement,\n  text: PebTextElement,\n  line: PebLineElement\n  // TODO: add remaining elements\n};\n\n@NgModule({\n  imports: [\n    CommonModule,\n  ],\n  declarations: [\n    PebRendererComponent,\n    PebRendererChildrenSlotDirective,\n\n    ...ICONS,\n    ...AVAILABLE_ELEMENTS_SET,\n  ],\n  providers: [\n    {\n      provide: ElementComponentsCollection,\n      useValue: AVAILABLE_ELEMENTS_MAP,\n    },\n    {\n      provide: 'RENDERER_SETTINGS',\n      useValue: {\n        dimensions: {\n          desktop: 1280,\n          tablet: 768,\n          mobile: 360,\n        }\n      }\n    }\n  ],\n  exports: [\n    PebRendererComponent\n  ],\n})\nexport class PebRendererModule {\n  static forRoot(config): ModuleWithProviders<PebRendererModule> {\n    return {\n      ngModule: PebRendererModule,\n      providers: [\n        {\n          provide: 'RENDERER_CONFIG',\n          useValue: config,\n        },\n      ],\n    };\n  }\n}\n"],"names":["Directive","Input","InjectionToken","pebCreateLogger","PebScreen","BehaviorSubject","EventEmitter","Injector","debounceTime","tap","takeUntil","union","keys","forEach","pebFindElementChildrenWithParent","keyBy","pebTraverseElementDeep","sortBy","ViewContainerRef","i0.ɵɵelementContainer","AbstractComponent","Component","ChangeDetectionStrategy","ViewEncapsulation","Inject","Output","ViewChild","HostBinding","Subject","isArray","ViewChildren","i0.ɵɵelement","i0.ɵɵtemplate","i0.ɵɵelementStart","i0.ɵɵelementEnd","i0.ɵɵproperty","i0.ɵɵtext","i0.ɵɵtextInterpolate1","i0.ɵɵadvance","i0.ɵɵelementContainerStart","i0.ɵɵelementContainerEnd","i0.ɵɵtextInterpolate","PebElementContextState","HostListener","sum","i0.ɵɵlistener","i0.ɵɵtextInterpolate2","i0.ɵɵnamespaceSVG","i0.ɵɵclassProp","i0.ɵɵstyleProp","ElementRef","CommonModule","NgModule"],"mappings":"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"}